# ===== ç»Ÿä¸€æ™ºèƒ½è·¯ç”±ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½® =====
# åŸºäº LangChain çš„ç»Ÿä¸€æ™ºèƒ½è·¯ç”±æ¶æ„å’Œè¯­ä¹‰åˆ†æç³»ç»Ÿ
# æ–‡æ¡£: https://github.com/langchain-ai/langchain-nextjs-template
# è¯¦ç»†è¯´æ˜: ./UNIFIED_ROUTER_README.md

# ===== åŸºç¡€é…ç½® =====
# åº”ç”¨åŸºç¡€ä¿¡æ¯
VERCEL_APP_URL="https://localhost:3000"
APP_TITLE="LangChain ç»Ÿä¸€æ™ºèƒ½è·¯ç”±ç³»ç»Ÿ"

# ===== æ¨¡å‹ API å¯†é’¥é…ç½® =====
# æ³¨æ„: è‡³å°‘é…ç½®ä¸€ä¸ªæ¨¡å‹ API å¯†é’¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¯ç”¨æ¨¡å‹

# --- 1. Google Gemini (æ¨è: æˆæœ¬ä½ã€é€Ÿåº¦å¿«) ---
GOOGLE_API_KEY="your-google-api-key"
# å¯é€‰: è‡ªå®šä¹‰ Base URL
# GOOGLE_BASE_URL="https://generativelanguage.googleapis.com"

# --- 2. OpenAI (åŠŸèƒ½å…¨é¢) ---
OPENAI_API_KEY="your-openai-api-key"
OPENAI_BASE_URL=""  # å¯é€‰: è‡ªå®šä¹‰ Base URL

# --- 3. DeepSeek (ä¸­æ–‡å‹å¥½ã€æ¨ç†èƒ½åŠ›å¼º) ---
DEEPSEEK_API_KEY="your-deepseek-api-key"

# --- 4. é˜¿é‡Œäº‘é€šä¹‰åƒé—® (ä¸­æ–‡ä¼˜åŒ–) ---
DASHSCOPE_API_KEY="your-dashscope-api-key"

# --- 5. è‡ªå®šä¹‰ OpenAI å…¼å®¹æä¾›å•† ---
# ç¤ºä¾‹: Neko API (æ”¯æŒå¤šç§æ¨¡å‹)
NEKO_API_KEY="your-neko-api-key"
NEKO_BASE_URL="your-neko-base-url"

# --- Claude ä¸“ç”¨é…ç½® (é¡¶å°–å¤æ‚ä»»åŠ¡å¤„ç†) ---
CLAUDE_API_KEY="your-claude-api-key"
CLAUDE_BASE_URL="https://api.anthropic.com"

# ç¤ºä¾‹: å…¶ä»– OpenAI å…¼å®¹æä¾›å•†
O3_API_KEY="your-o3-api-key"
O3_BASE_URL="your-o3-base-url"

# OpenRouter (å¤šæ¨¡å‹èšåˆ)
OPENROUTER_API_KEY="your-openrouter-api-key"
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"

# --- 6. å…¶ä»–æ¨¡å‹æä¾›å•† ---
# Tencent Hunyuan
TENCENT_HUNYUAN_SECRET_ID="your-tencent-secret-id"
TENCENT_HUNYUAN_SECRET_KEY="your-tencent-secret-key"

# Cloudflare Workers AI
CLOUDFLARE_API_TOKEN="your-cloudflare-api-token"
CLOUDFLARE_ACCOUNT_ID="your-cloudflare-account-id"

# ===== ç»Ÿä¸€æ™ºèƒ½è·¯ç”±ç³»ç»Ÿé…ç½® =====
# ç»Ÿä¸€è·¯ç”±å™¨åŠŸèƒ½å¼€å…³
ENABLE_UNIFIED_ROUTING="true"
ENABLE_INTELLIGENT_ROUTING="true"
ENABLE_MODEL_SWITCHING="true"
ENABLE_PERFORMANCE_MONITORING="true"

# è·¯ç”±å†³ç­–é…ç½®
ROUTING_CONFIDENCE_THRESHOLD="0.7"
ROUTING_FALLBACK_MODEL="gpt-4o-all"
ROUTING_CACHE_TTL="300"  # è·¯ç”±ç¼“å­˜æ—¶é—´(ç§’)

# ç»Ÿä¸€è·¯ç”±å™¨é…ç½®
UNIFIED_ROUTER_SEMANTIC_ANALYSIS="true"
UNIFIED_ROUTER_CAPABILITY_MATCHING="true"
UNIFIED_ROUTER_EXPLICIT_MODEL_SUPPORT="true"
UNIFIED_ROUTER_FALLBACK_CHAIN="true"

# å¤æ‚åº¦é˜ˆå€¼æ¨¡å‹ä¼˜å…ˆçº§é…ç½® (ç”¨é€—å·åˆ†éš”çš„æ¨¡å‹åˆ—è¡¨)
COMPLEXITY_HIGH_MODELS="claude-sonnet-4-all,gpt-4o-all,deepseek-reasoner,hunyuan-t1-latest"
COMPLEXITY_MEDIUM_MODELS="gpt-4o-all,gemini-flash,qwen-turbo,hunyuan-turbos-latest,claude-sonnet-4-all"
COMPLEXITY_LOW_MODELS="gemini-flash,qwen-turbo,hunyuan-turbos-latest,gpt-4o-all"

# æ¨¡å‹é€‰æ‹©ç­–ç•¥æƒé‡
MODEL_SELECTION_CAPABILITY_WEIGHT="0.4"
MODEL_SELECTION_COST_WEIGHT="0.3"
MODEL_SELECTION_PERFORMANCE_WEIGHT="0.3"

# ===== é«˜çº§åŠŸèƒ½é…ç½® =====

# --- ç½‘ç»œæœç´¢åŠŸèƒ½ ---
TAVILY_API_KEY="your-tavily-api-key"
SERPAPI_API_KEY="your-serpapi-api-key"
BING_SEARCH_API_KEY="your-bing-search-api-key"

# --- RAG æ£€ç´¢åŠŸèƒ½ ---
# Supabase (æ¨è)
SUPABASE_URL="your-supabase-url"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"
SUPABASE_TABLE_NAME="documents"

# Pinecone (äº‘å‘é‡æ•°æ®åº“)
PINECONE_API_KEY="your-pinecone-api-key"
PINECONE_ENVIRONMENT="your-pinecone-environment"
PINECONE_INDEX_NAME="langchain-chat-index"

# Chroma (æœ¬åœ°å‘é‡æ•°æ®åº“)
CHROMA_COLLECTION_NAME="chat-documents"
CHROMA_SERVER_URL="http://localhost:8000"
CHROMA_PERSIST_DIRECTORY="./chroma-data"

# --- å‘é‡åµŒå…¥é…ç½® ---
# Cloudflare Embeddings (æ¨è: æˆæœ¬ä½ã€é€Ÿåº¦å¿«)
CLOUDFLARE_EMBEDDING_MODEL="@cf/baai/bge-base-en-v1.5"
CLOUDFLARE_EMBEDDING_DIMENSIONS="768"

# å¯é€‰: OpenAI Embeddings (ä»…åœ¨éœ€è¦æ—¶å¯ç”¨)
# OPENAI_EMBEDDINGS_MODEL="text-embedding-3-large"
# OPENAI_EMBEDDINGS_DIMENSIONS="1024"

# ===== OpenAI å…¼å®¹ API é…ç½® =====
# å¯ç”¨ OpenAI å…¼å®¹ API ç«¯ç‚¹
ENABLE_OPENAI_COMPATIBLE_API="true"

# API å¯†é’¥éªŒè¯é…ç½®
ENABLE_API_AUTH="true"

# æ–¹å¼1: å¤šä¸ª API å¯†é’¥ (é€—å·åˆ†éš”)
LANGCHAIN_API_KEYS="sk-langchain-key1,sk-langchain-key2,sk-langchain-key3"

# æ–¹å¼2: ç¼–å·çš„å•ç‹¬å¯†é’¥ (æ”¯æŒ1-10)
LANGCHAIN_API_KEY_1="sk-langchain-user-key-1"
LANGCHAIN_API_KEY_2="sk-langchain-user-key-2"
LANGCHAIN_API_KEY_3="sk-langchain-user-key-3"

# æ–¹å¼3: å•ä¸ªé»˜è®¤å¯†é’¥
LANGCHAIN_API_KEY="sk-langchain-default-key"

# ç®¡ç†å‘˜å¯†é’¥ (æ‹¥æœ‰æ‰€æœ‰æƒé™)
LANGCHAIN_ADMIN_KEY="sk-langchain-admin-super-secret"

# ===== æ™ºèƒ½ä»£ç†é…ç½® =====
# ä»£ç†æ‰§è¡Œé…ç½®
AGENT_MAX_ITERATIONS="10"
AGENT_MAX_EXECUTION_TIME="30"  # ç§’
AGENT_VERBOSE="false"

# å·¥å…·é…ç½®
ENABLE_AGENT_TOOLS="true"
PYTHON_REPL_ENABLED="false"
SANDBOX_ENVIRONMENT="docker"  # docker, local, none

# æ•°å­¦è®¡ç®—å·¥å…·
WOLFRAM_ALPHA_APP_ID="your-wolfram-alpha-app-id"

# ===== ç»“æ„åŒ–è¾“å‡ºé…ç½® =====
STRUCTURED_OUTPUT_ENABLED="true"
STRUCTURED_OUTPUT_VALIDATION="true"
STRUCTURED_OUTPUT_MAX_RETRIES="3"

# ===== æ£€ç´¢é…ç½® =====
RETRIEVAL_TOP_K="5"
RETRIEVAL_SCORE_THRESHOLD="0.7"
RETRIEVAL_SEARCH_TYPE="similarity"  # similarity, mmr, similarity_score_threshold
RETRIEVAL_FETCH_K="20"

# æ–‡æ¡£å¤„ç†é…ç½®
DOCUMENT_CHUNK_SIZE="1000"
DOCUMENT_CHUNK_OVERLAP="200"
DOCUMENT_MAX_FILE_SIZE="10485760"  # 10MB

# ===== å†…å­˜å’ŒæŒä¹…åŒ–é…ç½® =====
ENABLE_MEMORY="true"
MEMORY_PROVIDER="buffer"  # buffer, summary, token_buffer, conversation_kg
MEMORY_MAX_TOKEN_LIMIT="4000"
MEMORY_RETURN_MESSAGES="true"

# LangGraph çŠ¶æ€æŒä¹…åŒ–
DATABASE_URL="postgresql://user:password@host:port/database?schema=public"
REDIS_URL="redis://localhost:6379/0"

# ===== ç›‘æ§å’Œæ—¥å¿—é…ç½® =====
# LangSmith è¿½è¸ª (å¼ºçƒˆæ¨è)
LANGCHAIN_TRACING_V2="true"
LANGCHAIN_API_KEY="your-langsmith-api-key"
LANGCHAIN_PROJECT="langchain-intelligent-routing"
LANGSMITH_ENDPOINT="https://api.smith.langchain.com"

# åº”ç”¨æ—¥å¿—é…ç½®
LOG_LEVEL="info"  # debug, info, warn, error
LOG_FORMAT="json"  # json, text
ENABLE_REQUEST_LOGGING="true"

# æ€§èƒ½ç›‘æ§
ENABLE_PERFORMANCE_METRICS="true"
METRICS_ENDPOINT="/api/metrics"

# ===== æ€§èƒ½å’Œé™åˆ¶é…ç½® =====
# å¹¶å‘å’Œè¶…æ—¶
MAX_CONCURRENT_REQUESTS="10"
REQUEST_TIMEOUT="30000"  # æ¯«ç§’
RATE_LIMIT_REQUESTS_PER_MINUTE="60"

# ç¼“å­˜é…ç½®
ENABLE_RESPONSE_CACHE="false"
CACHE_TTL="3600"  # ç§’
CACHE_PROVIDER="memory"  # memory, redis, none
REDIS_CACHE_URL="redis://localhost:6379/1"

# ===== å®‰å…¨é…ç½® =====
# CORS é…ç½®
ENABLE_CORS="true"
ALLOWED_ORIGINS="http://localhost:3000,https://your-domain.com"

# API è®¤è¯
API_KEY_HEADER="X-API-Key"
API_SECRET_KEY="your-secret-key"

# ===== åŠŸèƒ½å¼€å…³ =====
# æ ¸å¿ƒåŠŸèƒ½
ENABLE_VISION_PROCESSING="true"
ENABLE_WEB_SEARCH="true"
ENABLE_DOCUMENT_RETRIEVAL="true"
ENABLE_STRUCTURED_OUTPUT="true"
ENABLE_AGENT_TOOLS="true"
ENABLE_COMPLEX_REASONING="true"

# è¯­è¨€ä¼˜åŒ–
ENABLE_CHINESE_OPTIMIZATION="true"
ENABLE_MULTILINGUAL_SUPPORT="true"

# é«˜çº§åŠŸèƒ½
ENABLE_MODEL_FALLBACK="true"
ENABLE_AUTOMATIC_RETRIES="true"
ENABLE_CONTEXT_AWARENESS="true"

# ===== å¼€å‘å’Œæµ‹è¯•é…ç½® =====
NODE_ENV="development"  # development, production, test
DEBUG_MODE="false"
MOCK_API_RESPONSES="false"
TEST_API_KEY="test-key-for-development"

# å¼€å‘å·¥å…·
ENABLE_BUNDLE_ANALYZER="false"
ENABLE_PERFORMANCE_PROFILING="false"

# ===== éƒ¨ç½²é…ç½® =====
# ç”Ÿäº§ç¯å¢ƒé…ç½®
LANGCHAIN_CALLBACKS_BACKGROUND="false"  # Vercel Edge Functions è¦æ±‚
VERCEL_ENV="production"  # Vercel è‡ªåŠ¨è®¾ç½®

# å¥åº·æ£€æŸ¥
ENABLE_HEALTH_CHECK="true"
HEALTH_CHECK_ENDPOINT="/api/health"

# ===== ç»Ÿä¸€æ™ºèƒ½è·¯ç”±ç³»ç»Ÿä½¿ç”¨è¯´æ˜ =====
#
# ğŸš€ å¿«é€Ÿå¼€å§‹:
# 1. è‡³å°‘é…ç½®ä¸€ä¸ªæ¨¡å‹ API å¯†é’¥
# 2. è¿è¡Œ: npm run dev
# 3. è®¿é—®: http://localhost:3000
# 4. ä½¿ç”¨ "model": "auto" äº«å—æ™ºèƒ½è·¯ç”±
#
# ğŸ”§ æ·»åŠ æ–°æ¨¡å‹:
# æ–¹å¼1: npm run add-model (äº¤äº’å¼)
# æ–¹å¼2: ç¼–è¾‘ models-config.json
# æ–¹å¼3: è®¿é—® /admin/models ç®¡ç†ç•Œé¢
# æ–¹å¼4: ä½¿ç”¨ç»Ÿä¸€è·¯ç”±å™¨ API åŠ¨æ€æ³¨å†Œ
#
# ğŸ§ª æµ‹è¯•ç³»ç»Ÿ:
# node scripts/test-unified-router.js  # ç»Ÿä¸€è·¯ç”±å™¨æµ‹è¯•
# npm run test-router                  # ä¼ ç»Ÿè·¯ç”±å™¨æµ‹è¯•
#
# ğŸ“š è¯¦ç»†æ–‡æ¡£:
# æŸ¥çœ‹ README.md å’Œ UNIFIED_ROUTER_README.md
#
# ===== æ¨èçš„æœ€å°é…ç½® =====
#
# # åŸºç¡€é…ç½® (é€‰æ‹©ä¸€ä¸ª)
# GOOGLE_API_KEY="your-google-api-key"     # æ¨è: æˆæœ¬ä½ã€é€Ÿåº¦å¿«
# # æˆ–
# NEKO_API_KEY="your-neko-api-key"         # é«˜çº§æ¨¡å‹: GPT-4o, Claude
# # æˆ–
# DEEPSEEK_API_KEY="your-deepseek-api-key" # æ¨ç†ä¸“å®¶: ä¸­æ–‡å‹å¥½
#
# # å¯é€‰åŠŸèƒ½
# TAVILY_API_KEY="your-tavily-api-key"     # ç½‘ç»œæœç´¢
# SUPABASE_URL="your-supabase-url"         # RAG æ£€ç´¢
# LANGCHAIN_API_KEY="your-langsmith-key"   # ç›‘æ§è¿½è¸ª
#
# ===== ç»Ÿä¸€è·¯ç”±å™¨æœ€ä½³é…ç½® =====
#
# # å¤šæ¨¡å‹é…ç½® (è·å¾—æœ€ä½³æ™ºèƒ½è·¯ç”±æ€§èƒ½)
# NEKO_API_KEY="your-neko-api-key"         # GPT-4o-all, Claude-sonnet-4-all
# DEEPSEEK_API_KEY="your-deepseek-api-key" # deepseek-reasoner (æ¨ç†ä¸“å®¶)
# DASHSCOPE_API_KEY="your-dashscope-key"   # qwen-turbo, qvq-plus (ä¸­æ–‡+è§†è§‰)
# GOOGLE_API_KEY="your-google-api-key"     # gemini-flash (æœç´¢+é€Ÿåº¦)
# TENCENT_HUNYUAN_SECRET_ID="your-secret-id"     # è…¾è®¯æ··å…ƒ
# TENCENT_HUNYUAN_SECRET_KEY="your-secret-key"   # (ä¸­æ–‡åˆ›ä½œ)
#
# # å®Œæ•´åŠŸèƒ½é…ç½®
# TAVILY_API_KEY="your-tavily-api-key"     # ç½‘ç»œæœç´¢
# SUPABASE_URL="your-supabase-url"         # RAG æ£€ç´¢
# LANGCHAIN_API_KEY="your-langsmith-key"   # ç›‘æ§è¿½è¸ª
#
# ===== æ™ºèƒ½è·¯ç”±ç¤ºä¾‹ =====
#
# # è§†è§‰ä»»åŠ¡: "è¯·åˆ†æè¿™å¼ å›¾ç‰‡" â†’ qvq-plus
# # æ¨ç†ä»»åŠ¡: "åˆ†æé‡å­è®¡ç®—åŸç†" â†’ deepseek-reasoner
# # ä¸­æ–‡åˆ›ä½œ: "å†™ä¸€é¦–è¯—" â†’ hunyuan-t1-latest
# # ä»£ç ç”Ÿæˆ: "å†™Pythonä»£ç " â†’ claude-sonnet-4-all
# # æœç´¢ä»»åŠ¡: "æœ€æ–°æ–°é—»" â†’ gemini-flash
# # æ˜ç¡®æŒ‡å®š: "è®©Claudeåˆ†æ" â†’ claude-sonnet-4-all
#
# ===== æ•…éšœæ’é™¤ =====
#
# ğŸ” å¸¸è§é—®é¢˜:
# 1. æ¨¡å‹ä¸å¯ç”¨: æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®
# 2. è·¯ç”±ä¸å‡†ç¡®: è¿è¡Œ node scripts/test-unified-router.js æ£€æŸ¥
# 3. æ€§èƒ½é—®é¢˜: å¯ç”¨ç¼“å­˜å’Œç›‘æ§
# 4. é…ç½®é”™è¯¯: æ£€æŸ¥ models-config.json æ ¼å¼
#
# ğŸ› ï¸ è°ƒè¯•å‘½ä»¤:
# node scripts/test-unified-router.js  # æµ‹è¯•ç»Ÿä¸€è·¯ç”±å™¨
# npm run models:list                  # æŸ¥çœ‹å¯ç”¨æ¨¡å‹
# npm run test-router                  # æµ‹è¯•ä¼ ç»Ÿè·¯ç”±å™¨
# npm run models:reload                # é‡æ–°åŠ è½½é…ç½®
#
# ğŸ“Š ç›‘æ§:
# è®¿é—® /admin/models æŸ¥çœ‹æ¨¡å‹çŠ¶æ€
# æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—äº†è§£è·¯ç”±å†³ç­–
# ä½¿ç”¨ OpenAI å…¼å®¹ API: /api/v1/chat/completions
#
# ===== API ä½¿ç”¨ç¤ºä¾‹ =====
#
# # ä½¿ç”¨ç»Ÿä¸€æ™ºèƒ½è·¯ç”±
# curl -X POST http://localhost:3000/api/v1/chat/completions \
#   -H "Content-Type: application/json" \
#   -d '{"model": "auto", "messages": [{"role": "user", "content": "ä½ å¥½"}]}'
#
# # é‡è½½é…ç½®
# curl -X POST http://localhost:3000/api/admin/models/reload
#
# # æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨
# curl -X GET http://localhost:3000/api/v1/models
